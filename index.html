<!DOCTYPE html>
<!-- saved from url=(0036)http://gsoft-test.jsin.ru/test1.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Тестовое задание</title>
    </head>
    <body>
      <style>
            
      </style>
        123
       <script src="https://code.jquery.com/jquery-1.8.3.js"></script>
        <script>
		var YOUR_APP_PERMISSIONS =2,
		    YOUR_APP_ID =6604866;
		
			var vk = {
				 data: {},
				 api: "//vk.com/js/api/openapi.js",
				 appID: YOUR_APP_ID,
				 appPermissions: YOUR_APP_PERMISSIONS,
				 init: function(){
				  $.js(vk.api);
				  window.vkAsyncInit = function(){
				   VK.init({apiId: vk.appID});
				   load();
				  }

				  function load(){
				   VK.Auth.login(authInfo, vk.appPermissions);

				   function authInfo(response){
					if(response.session){ // Авторизация успешна
					 vk.data.user = response.session.user;
					 vk.getFriends();
					}else alert("Авторизоваться не удалось!");
				   }
				  }
				 },
				 getFriends: function(){
				  VK.Api.call('friends.get', {fields: ['uid', 'first_name', 'last_name'], order: 'name'}, function(r){
				   if(r.response){
					r = r.response;
					var ol = $('#clientApi').add('ol');
					for(var i = 0; i < r.length; ++i){
					 var li = ol.add('li').html(r[i].first_name+' '+r[i].last_name+' ('+r[i].uid+')')
					}
				   }else alert("Не удалось получить список ваших друзей");
				  })
				 }
              }

$.ready(vk.init);
        </script>
    

</body></html>